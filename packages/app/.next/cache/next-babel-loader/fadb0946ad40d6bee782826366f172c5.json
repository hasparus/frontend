{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/hasparus/workspace/zagrajmy/frontend/packages/app/pages/index.tsx\";\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport Head from \"next/head\";\nimport { isAfter } from \"date-fns\";\nimport { useTranslation } from \"react-i18next\";\nimport { MeetingCardsList } from \"../src/app/components/MeetingCardsList\";\nimport { Page, MeetingCard } from \"../src/app/components\";\nimport { meetingsApi } from \"../src/app/api\";\nimport { Link } from \"../src/ui\";\nimport { jsx } from \"theme-ui\";\n\nvar IndexPage = function IndexPage(_ref) {\n  var meetings = _ref.meetings;\n\n  var _useTranslation = useTranslation(),\n      t = _useTranslation.t;\n\n  return jsx(Page, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, jsx(Head, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, jsx(\"title\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, t(\"pageTitle\")), jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 9\n    }\n  })), jsx(\"header\", {\n    sx: {\n      width: \"100%\",\n      padding: \"80px 0 4px 0\",\n      textAlign: \"center\",\n      px: 2\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, jsx(\"h1\", {\n    sx: {\n      marginTop: 0,\n      marginBottom: \"0.4em\",\n      width: \"100%\",\n      lineHeight: 1.15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, t(\"pageTitle\")), jsx(\"p\", {\n    sx: {\n      fontSize: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, \"Smoki si\\u0119 same nie ubij\\u0105. Zapisz si\\u0119 na sesj\\u0119.\")), jsx(MeetingCardsList, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, meetings.map(function (m) {\n    return jsx(\"li\", {\n      key: m.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, jsx(MeetingCard, {\n      meeting: m,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }));\n  })), jsx(\"section\", {\n    sx: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      paddingBottom: \"2em\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, jsx(Link, {\n    variant: \"button\",\n    href: \"/meetings\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, t(\"see-more\"))));\n};\n\nIndexPage.getInitialProps = function _callee() {\n  var today, meetings;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          today = new Date();\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(meetingsApi.getAll().then(function (xs) {\n            return xs.filter(function (x) {\n              return !x.start_time || isAfter(x.start_time, today);\n            }).slice(0, 3);\n          }));\n\n        case 3:\n          meetings = _context.sent;\n          return _context.abrupt(\"return\", {\n            meetings: meetings\n          });\n\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default IndexPage;","map":{"version":3,"sources":["/home/hasparus/workspace/zagrajmy/frontend/packages/app/pages/index.tsx"],"names":["React","Head","isAfter","useTranslation","MeetingCardsList","Page","MeetingCard","meetingsApi","Link","IndexPage","meetings","t","width","padding","textAlign","px","marginTop","marginBottom","lineHeight","fontSize","map","m","id","display","justifyContent","alignItems","paddingBottom","getInitialProps","today","Date","getAll","then","xs","filter","x","start_time","slice"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Head from \"next/head\";\nimport { isAfter } from \"date-fns\";\nimport { NextPage } from \"next\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { MeetingCardsList } from \"../src/app/components/MeetingCardsList\";\nimport { Page, MeetingCard } from \"../src/app/components\";\nimport { meetingsApi } from \"../src/app/api\";\nimport { Meeting } from \"../src/app/types\";\nimport { Link } from \"../src/ui\";\n\ntype InitialProps = { meetings: Meeting[] };\n\nconst IndexPage: NextPage<InitialProps> = ({ meetings }) => {\n  const { t } = useTranslation();\n\n  return (\n    <Page>\n      <Head>\n        <title>{t(\"pageTitle\")}</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n\n      <header\n        sx={{\n          width: \"100%\",\n          padding: \"80px 0 4px 0\",\n          textAlign: \"center\",\n          px: 2,\n        }}\n      >\n        <h1\n          sx={{\n            marginTop: 0,\n            marginBottom: \"0.4em\",\n            width: \"100%\",\n            lineHeight: 1.15,\n          }}\n        >\n          {t(\"pageTitle\")}\n        </h1>\n        <p sx={{ fontSize: 4 }}>\n          Smoki się same nie ubiją. Zapisz się na sesję.\n        </p>\n      </header>\n\n      <MeetingCardsList>\n        {meetings.map(m => (\n          <li key={m.id}>\n            <MeetingCard meeting={m} />\n          </li>\n        ))}\n      </MeetingCardsList>\n\n      <section\n        sx={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          paddingBottom: \"2em\",\n        }}\n      >\n        <Link variant=\"button\" href=\"/meetings\">\n          {t(\"see-more\")}\n        </Link>\n      </section>\n    </Page>\n  );\n};\n\nIndexPage.getInitialProps = async (): Promise<InitialProps> => {\n  const today = new Date();\n  const meetings = await meetingsApi\n    .getAll()\n    .then(xs =>\n      xs.filter(x => !x.start_time || isAfter(x.start_time, today)).slice(0, 3)\n    );\n  return { meetings };\n};\n\nexport default IndexPage;\n"]},"metadata":{},"sourceType":"module"}