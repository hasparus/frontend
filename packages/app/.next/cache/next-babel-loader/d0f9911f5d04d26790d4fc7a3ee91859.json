{"ast":null,"code":"var _jsxFileName = \"/home/hasparus/workspace/zagrajmy/frontend/packages/app/src/app/components/Menu.tsx\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport { useRef } from \"react\";\nimport { get } from \"@theme-ui/css\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport { Link } from \"../../lib\";\nimport { UserAvatar } from \"./UserAvatar\";\nimport { jsx } from \"theme-ui\";\n\nconst Tip = () => jsx(\"div\", {\n  sx: {\n    display: \"block\",\n    lineHeight: \"11px\",\n    zIndex: 1,\n    textAlign: \"center\",\n    position: \"absolute\",\n    right: 0,\n    bottom: \"calc(100% - 2px)\",\n    pr: 1,\n    pt: \"2px\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }\n}, jsx(\"svg\", {\n  width: \"24\",\n  height: \"12\",\n  viewBox: \"0 0 24 12\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }\n}, jsx(\"path\", {\n  strokeWidth: \"1px\",\n  fillRule: \"evenodd\",\n  d: \"M20 12l-8-8-12 12\",\n  sx: {\n    fill: \"background\",\n    stroke: \"background\"\n  },\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 7\n  }\n})));\n\nexport const Menu = (_ref) => {\n  let {\n    user\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"user\"]);\n\n  const detailsRef = useRef(null);\n  useOnClickOutside(detailsRef, () => {\n    if (detailsRef.current) {\n      detailsRef.current.open = false;\n    }\n  });\n  return jsx(\"details\", _extends({\n    ref: detailsRef,\n    sx: {\n      height: \"48px\",\n      width: \"32px\",\n      position: \"relative\"\n    }\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }), jsx(\"summary\", {\n    sx: {\n      display: \"inline-flex\",\n      cursor: \"pointer\",\n      listStyle: \"none\",\n      outline: \"none\",\n      \"::-webkit-details-marker\": {\n        display: \"none\"\n      },\n      my: \"8px\" // \":focus > :first-of-type\": {}, // TODO?\n\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, jsx(UserAvatar, {\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })), jsx(\"div\", {\n    sx: {\n      right: 0,\n      top: \"calc(100% + 2px)\",\n      position: \"absolute\",\n      bg: \"background\",\n      borderRadius: 2,\n      zIndex: 2,\n      display: \"flex\",\n      flexDirection: \"column\",\n      boxShadow: \"lg\",\n      width: theme => get(theme, \"space.6\"),\n      p: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, jsx(Tip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), jsx(Link, {\n    href: \"/settings\",\n    sx: {\n      py: 2,\n      px: 3,\n      borderRadius: \"rounded-sm\",\n      color: \"text\",\n      whiteSpace: \"pre\",\n      textDecoration: \"none\",\n      transition: \"background-color 200ms ease-in\",\n      \":hover\": {\n        bg: \"gray.2\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Settings\"), jsx(Link, {\n    href: \"/api/logout\",\n    sx: {\n      py: 2,\n      px: 3,\n      borderRadius: \"rounded-sm\",\n      color: \"text\",\n      whiteSpace: \"pre\",\n      textDecoration: \"none\",\n      transition: \"background-color 200ms ease-in\",\n      \":hover\": {\n        bg: \"gray.2\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Log Out\")));\n};","map":{"version":3,"sources":["/home/hasparus/workspace/zagrajmy/frontend/packages/app/src/app/components/Menu.tsx"],"names":["useRef","get","useOnClickOutside","Link","UserAvatar","Tip","display","lineHeight","zIndex","textAlign","position","right","bottom","pr","pt","fill","stroke","Menu","user","rest","detailsRef","current","open","height","width","cursor","listStyle","outline","my","top","bg","borderRadius","flexDirection","boxShadow","theme","p","py","px","color","whiteSpace","textDecoration","transition"],"mappings":"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","sourcesContent":["import { ComponentProps, useRef } from \"react\";\nimport { Theme } from \"theme-ui\";\nimport { get } from \"@theme-ui/css\";\nimport useOnClickOutside from \"use-onclickoutside\";\n\nimport { Claims } from \"../auth\";\nimport { Link } from \"../../lib\";\nimport { UserAvatar } from \"./UserAvatar\";\n\nconst Tip = () => (\n  <div\n    sx={{\n      display: \"block\",\n      lineHeight: \"11px\",\n      zIndex: 1,\n      textAlign: \"center\",\n      position: \"absolute\",\n      right: 0,\n      bottom: \"calc(100% - 2px)\",\n      pr: 1,\n      pt: \"2px\",\n    }}\n  >\n    <svg width=\"24\" height=\"12\" viewBox=\"0 0 24 12\">\n      <path\n        strokeWidth=\"1px\"\n        fillRule=\"evenodd\"\n        d=\"M20 12l-8-8-12 12\"\n        sx={{\n          fill: \"background\",\n          stroke: \"background\",\n        }}\n      />\n    </svg>\n  </div>\n);\n\ninterface MenuProps extends ComponentProps<\"details\"> {\n  user: Claims;\n}\nexport const Menu = ({ user, ...rest }: MenuProps) => {\n  const detailsRef = useRef<HTMLDetailsElement>(null);\n  useOnClickOutside(detailsRef, () => {\n    if (detailsRef.current) {\n      detailsRef.current.open = false;\n    }\n  });\n\n  return (\n    <details\n      ref={detailsRef}\n      sx={{\n        height: \"48px\",\n        width: \"32px\",\n        position: \"relative\",\n      }}\n      {...rest}\n    >\n      <summary\n        sx={{\n          display: \"inline-flex\",\n          cursor: \"pointer\",\n          listStyle: \"none\",\n          outline: \"none\",\n\n          \"::-webkit-details-marker\": {\n            display: \"none\",\n          },\n\n          my: \"8px\",\n\n          // \":focus > :first-of-type\": {}, // TODO?\n        }}\n      >\n        <UserAvatar user={user} />\n      </summary>\n      <div\n        sx={{\n          right: 0,\n          top: \"calc(100% + 2px)\",\n          position: \"absolute\",\n          bg: \"background\",\n          borderRadius: 2,\n          zIndex: 2,\n          display: \"flex\",\n          flexDirection: \"column\",\n          boxShadow: \"lg\",\n          width: (theme: Theme) => get(theme, \"space.6\"),\n          p: 1,\n        }}\n      >\n        <Tip />\n        <Link\n          href=\"/settings\"\n          sx={{\n            py: 2,\n            px: 3,\n            borderRadius: \"rounded-sm\",\n            color: \"text\",\n            whiteSpace: \"pre\",\n            textDecoration: \"none\",\n            transition: \"background-color 200ms ease-in\",\n            \":hover\": { bg: \"gray.2\" },\n          }}\n        >\n          Settings\n        </Link>\n        <Link\n          href=\"/api/logout\"\n          sx={{\n            py: 2,\n            px: 3,\n            borderRadius: \"rounded-sm\",\n            color: \"text\",\n            whiteSpace: \"pre\",\n            textDecoration: \"none\",\n            transition: \"background-color 200ms ease-in\",\n            \":hover\": { bg: \"gray.2\" },\n          }}\n        >\n          Log Out\n        </Link>\n      </div>\n    </details>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}