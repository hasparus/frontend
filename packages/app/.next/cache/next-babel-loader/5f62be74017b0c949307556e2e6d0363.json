{"ast":null,"code":"import { auth } from \"../../src/app/auth\";\nexport default async function callback(req, res) {\n  try {\n    await auth.handleCallback(req, res, {\n      redirectTo: `/api/logged-in?redirect-to=${encodeURIComponent(req.headers.referer || \"/\")}`\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 400).end(error.message);\n  }\n}","map":{"version":3,"sources":["/home/hasparus/workspace/zagrajmy/frontend/packages/app/pages/api/login-callback.ts"],"names":["auth","callback","req","res","handleCallback","redirectTo","encodeURIComponent","headers","referer","error","console","status","end","message"],"mappings":"AAEA,SAASA,IAAT,QAAqB,oBAArB;AAEA,eAAe,eAAeC,QAAf,CACbC,GADa,EAEbC,GAFa,EAGb;AACA,MAAI;AACF,UAAMH,IAAI,CAACI,cAAL,CAAoBF,GAApB,EAAyBC,GAAzB,EAA8B;AAClCE,MAAAA,UAAU,EAAG,8BAA6BC,kBAAkB,CAC1DJ,GAAG,CAACK,OAAJ,CAAYC,OAAZ,IAAuB,GADmC,CAE1D;AAHgC,KAA9B,CAAN;AAKD,GAND,CAME,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACAN,IAAAA,GAAG,CAACQ,MAAJ,CAAWF,KAAK,CAACE,MAAN,IAAgB,GAA3B,EAAgCC,GAAhC,CAAoCH,KAAK,CAACI,OAA1C;AACD;AACF","sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\n\nimport { auth } from \"../../src/app/auth\";\n\nexport default async function callback(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  try {\n    await auth.handleCallback(req, res, {\n      redirectTo: `/api/logged-in?redirect-to=${encodeURIComponent(\n        req.headers.referer || \"/\"\n      )}`,\n    });\n  } catch (error) {\n    console.error(error);\n    res.status(error.status || 400).end(error.message);\n  }\n}\n"]},"metadata":{},"sourceType":"module"}