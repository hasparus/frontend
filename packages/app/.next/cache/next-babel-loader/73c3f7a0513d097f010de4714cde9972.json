{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRef } from \"react\";\nimport { get } from \"@theme-ui/css\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport { Link } from \"../../lib\";\nimport { UserAvatar } from \"./UserAvatar\";\nimport { jsx } from \"theme-ui\";\n\nvar Tip = function Tip() {\n  return jsx(\"div\", {\n    sx: {\n      display: \"block\",\n      lineHeight: \"11px\",\n      zIndex: 1,\n      textAlign: \"center\",\n      position: \"absolute\",\n      right: 0,\n      bottom: \"calc(100% - 2px)\",\n      pr: 1,\n      pt: \"2px\"\n    }\n  }, jsx(\"svg\", {\n    width: \"24\",\n    height: \"12\",\n    viewBox: \"0 0 24 12\"\n  }, jsx(\"path\", {\n    strokeWidth: \"1px\",\n    fillRule: \"evenodd\",\n    d: \"M20 12l-8-8-12 12\",\n    sx: {\n      fill: \"background\",\n      stroke: \"background\"\n    }\n  })));\n};\n\nexport var Menu = function Menu(_ref) {\n  var user = _ref.user,\n      rest = _objectWithoutProperties(_ref, [\"user\"]);\n\n  var detailsRef = useRef(null);\n  useOnClickOutside(detailsRef, function () {\n    if (detailsRef.current) {\n      detailsRef.current.open = false;\n    }\n  });\n  return jsx(\"details\", _extends({\n    ref: detailsRef,\n    sx: {\n      height: \"48px\",\n      width: \"32px\",\n      position: \"relative\"\n    }\n  }, rest), jsx(\"summary\", {\n    sx: {\n      display: \"inline-flex\",\n      cursor: \"pointer\",\n      listStyle: \"none\",\n      outline: \"none\",\n      \"::-webkit-details-marker\": {\n        display: \"none\"\n      },\n      my: \"8px\" // \":focus > :first-of-type\": {}, // TODO?\n\n    }\n  }, jsx(UserAvatar, {\n    user: user\n  })), jsx(\"div\", {\n    sx: {\n      right: 0,\n      top: \"calc(100% + 2px)\",\n      position: \"absolute\",\n      bg: \"background\",\n      borderRadius: 2,\n      zIndex: 2,\n      display: \"flex\",\n      flexDirection: \"column\",\n      boxShadow: \"lg\",\n      width: function width(theme) {\n        return get(theme, \"space.6\");\n      },\n      p: 1\n    }\n  }, jsx(Tip, null), jsx(Link, {\n    href: \"/settings\",\n    sx: {\n      py: 2,\n      px: 3,\n      borderRadius: \"rounded-sm\",\n      color: \"text\",\n      whiteSpace: \"pre\",\n      textDecoration: \"none\",\n      transition: \"background-color 200ms ease-in\",\n      \":hover\": {\n        bg: \"gray.2\"\n      }\n    }\n  }, \"Settings\"), jsx(Link, {\n    href: \"/api/logout\",\n    sx: {\n      py: 2,\n      px: 3,\n      borderRadius: \"rounded-sm\",\n      color: \"text\",\n      whiteSpace: \"pre\",\n      textDecoration: \"none\",\n      transition: \"background-color 200ms ease-in\",\n      \":hover\": {\n        bg: \"gray.2\"\n      }\n    }\n  }, \"Log Out\")));\n};","map":null,"metadata":{},"sourceType":"module"}