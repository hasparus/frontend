{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"/home/hasparus/workspace/zagrajmy/frontend/packages/app/src/app/components/Menu.tsx\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useRef } from \"react\";\nimport { get } from \"@theme-ui/css\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport { Link } from \"../../lib\";\nimport { UserAvatar } from \"./UserAvatar\";\nimport { jsx } from \"theme-ui\";\n\nvar Tip = function Tip() {\n  return jsx(\"div\", {\n    sx: {\n      display: \"block\",\n      lineHeight: \"11px\",\n      zIndex: 1,\n      textAlign: \"center\",\n      position: \"absolute\",\n      right: 0,\n      bottom: \"calc(100% - 2px)\",\n      pr: 1,\n      pt: \"2px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 3\n    }\n  }, jsx(\"svg\", {\n    width: \"24\",\n    height: \"12\",\n    viewBox: \"0 0 24 12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, jsx(\"path\", {\n    strokeWidth: \"1px\",\n    fillRule: \"evenodd\",\n    d: \"M20 12l-8-8-12 12\",\n    sx: {\n      fill: \"background\",\n      stroke: \"background\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  })));\n};\n\nexport var Menu = function Menu(_ref) {\n  var user = _ref.user,\n      rest = _objectWithoutProperties(_ref, [\"user\"]);\n\n  var detailsRef = useRef(null);\n  useOnClickOutside(detailsRef, function () {\n    if (detailsRef.current) {\n      detailsRef.current.open = false;\n    }\n  });\n  return jsx(\"details\", _extends({\n    ref: detailsRef,\n    sx: {\n      height: \"48px\",\n      width: \"32px\",\n      position: \"relative\"\n    }\n  }, rest, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }), jsx(\"summary\", {\n    sx: {\n      display: \"inline-flex\",\n      cursor: \"pointer\",\n      listStyle: \"none\",\n      outline: \"none\",\n      \"::-webkit-details-marker\": {\n        display: \"none\"\n      },\n      my: \"8px\" // \":focus > :first-of-type\": {}, // TODO?\n\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, jsx(UserAvatar, {\n    user: user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })), jsx(\"div\", {\n    sx: {\n      right: 0,\n      top: \"calc(100% + 2px)\",\n      position: \"absolute\",\n      bg: \"background\",\n      borderRadius: 2,\n      zIndex: 2,\n      display: \"flex\",\n      flexDirection: \"column\",\n      boxShadow: \"lg\",\n      width: function width(theme) {\n        return get(theme, \"space.6\");\n      },\n      p: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, jsx(Tip, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), jsx(Link, {\n    href: \"/settings\",\n    sx: {\n      py: 2,\n      px: 3,\n      borderRadius: \"rounded-sm\",\n      color: \"text\",\n      whiteSpace: \"pre\",\n      textDecoration: \"none\",\n      transition: \"background-color 200ms ease-in\",\n      \":hover\": {\n        bg: \"gray.2\"\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"Settings\"), jsx(Link, {\n    href: \"/api/logout\",\n    sx: {\n      py: 2,\n      px: 3,\n      borderRadius: \"rounded-sm\",\n      color: \"text\",\n      whiteSpace: \"pre\",\n      textDecoration: \"none\",\n      transition: \"background-color 200ms ease-in\",\n      \":hover\": {\n        bg: \"gray.2\"\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Log Out\")));\n};","map":{"version":3,"sources":["/home/hasparus/workspace/zagrajmy/frontend/packages/app/src/app/components/Menu.tsx"],"names":["useRef","get","useOnClickOutside","Link","UserAvatar","Tip","display","lineHeight","zIndex","textAlign","position","right","bottom","pr","pt","fill","stroke","Menu","user","rest","detailsRef","current","open","height","width","cursor","listStyle","outline","my","top","bg","borderRadius","flexDirection","boxShadow","theme","p","py","px","color","whiteSpace","textDecoration","transition"],"mappings":"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","sourcesContent":["import { ComponentProps, useRef } from \"react\";\nimport { Theme } from \"theme-ui\";\nimport { get } from \"@theme-ui/css\";\nimport useOnClickOutside from \"use-onclickoutside\";\n\nimport { Claims } from \"../auth\";\nimport { Link } from \"../../lib\";\nimport { UserAvatar } from \"./UserAvatar\";\n\nconst Tip = () => (\n  <div\n    sx={{\n      display: \"block\",\n      lineHeight: \"11px\",\n      zIndex: 1,\n      textAlign: \"center\",\n      position: \"absolute\",\n      right: 0,\n      bottom: \"calc(100% - 2px)\",\n      pr: 1,\n      pt: \"2px\",\n    }}\n  >\n    <svg width=\"24\" height=\"12\" viewBox=\"0 0 24 12\">\n      <path\n        strokeWidth=\"1px\"\n        fillRule=\"evenodd\"\n        d=\"M20 12l-8-8-12 12\"\n        sx={{\n          fill: \"background\",\n          stroke: \"background\",\n        }}\n      />\n    </svg>\n  </div>\n);\n\ninterface MenuProps extends ComponentProps<\"details\"> {\n  user: Claims;\n}\nexport const Menu = ({ user, ...rest }: MenuProps) => {\n  const detailsRef = useRef<HTMLDetailsElement>(null);\n  useOnClickOutside(detailsRef, () => {\n    if (detailsRef.current) {\n      detailsRef.current.open = false;\n    }\n  });\n\n  return (\n    <details\n      ref={detailsRef}\n      sx={{\n        height: \"48px\",\n        width: \"32px\",\n        position: \"relative\",\n      }}\n      {...rest}\n    >\n      <summary\n        sx={{\n          display: \"inline-flex\",\n          cursor: \"pointer\",\n          listStyle: \"none\",\n          outline: \"none\",\n\n          \"::-webkit-details-marker\": {\n            display: \"none\",\n          },\n\n          my: \"8px\",\n\n          // \":focus > :first-of-type\": {}, // TODO?\n        }}\n      >\n        <UserAvatar user={user} />\n      </summary>\n      <div\n        sx={{\n          right: 0,\n          top: \"calc(100% + 2px)\",\n          position: \"absolute\",\n          bg: \"background\",\n          borderRadius: 2,\n          zIndex: 2,\n          display: \"flex\",\n          flexDirection: \"column\",\n          boxShadow: \"lg\",\n          width: (theme: Theme) => get(theme, \"space.6\"),\n          p: 1,\n        }}\n      >\n        <Tip />\n        <Link\n          href=\"/settings\"\n          sx={{\n            py: 2,\n            px: 3,\n            borderRadius: \"rounded-sm\",\n            color: \"text\",\n            whiteSpace: \"pre\",\n            textDecoration: \"none\",\n            transition: \"background-color 200ms ease-in\",\n            \":hover\": { bg: \"gray.2\" },\n          }}\n        >\n          Settings\n        </Link>\n        <Link\n          href=\"/api/logout\"\n          sx={{\n            py: 2,\n            px: 3,\n            borderRadius: \"rounded-sm\",\n            color: \"text\",\n            whiteSpace: \"pre\",\n            textDecoration: \"none\",\n            transition: \"background-color 200ms ease-in\",\n            \":hover\": { bg: \"gray.2\" },\n          }}\n        >\n          Log Out\n        </Link>\n      </div>\n    </details>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}